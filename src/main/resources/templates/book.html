<!DOCTYPE html>
<html lang="en"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head th:replace="fragments/commons::head"></head>
<body>
<header th:replace="fragments/commons::header"></header>
<div th:if="${successfulAddToCart} and ${#locale.toString() == 'en_US'}" class="alert alert-success alert-dismissible text-center mb-0 rounded-0" role="alert">
    You successfully added <span th:text="${titleOfAddedToCartBook}">Title</span> to the cart!
    <button class="btn-close" aria-label="close" data-bs-dismiss="alert"></button>
</div>
<div th:if="${successfulAddToCart} and ${#locale.toString() == 'bg_BG'}" class="alert alert-success alert-dismissible text-center mb-0 rounded-0" role="alert">
    Вие успешно добавихте <span th:text="${titleOfAddedToCartBook}">Title</span> към количката!
    <button class="btn-close" aria-label="close" data-bs-dismiss="alert"></button>
</div>
<div class="container">
    <div class="row mt-5"></div>
    <div class="row mt-5"></div>
    <div class="row mt-5 mb-5">
        <div class="col-2"></div>
        <div class="col-4 me-5">
            <img class="img-thumbnail" th:src="${bookDetails.imageUrl}" alt="image">
        </div>

        <div class="col-3">
            <div class="row mb-3">
                <h1 th:text="${bookDetails.title}">Title</h1>
            </div>
            <div class="row">
                <h3> <span th:text="${#numbers.formatDecimal(bookDetails.price, 0, 2)}">25.00</span>лв.</h3>
            </div>
            <div class="row mb-3">
                <h4 th:text="${bookDetails.shortDescription}">Short description. Lorem ipsum dolor sit amet consectetur adipisicing elit. Alias, aspernatur! Asperiores repellat quam praesentium. Maiores tenetur possimus fuga illo error?</h4>
            </div>
            <div class="row mb-3" sec:authorize="isAuthenticated()">
                <form th:action="@{/book/add-to-cart/{id}(id=${bookDetails.id})}" th:method="PUT">
                    <button type="submit" class="btn-primary btn" th:text="#{add_to_cart}">Add to cart</button>
                </form>
            </div>
            <div class="row">
                <h5><span th:text="#{author}">Author</span>: <a class="text-success  link-underline  link-underline-opacity-0" th:href="@{/authors/{name}(name=${bookDetails.authorName})}" th:text="${bookDetails.authorName}">Author name</a></h5>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-2"></div>
        <div class="col">
            <h4 th:text="${bookDetails.longDescription}">Description. Lorem, ipsum dolor sit amet consectetur adipisicing elit. Ipsa officia debitis, nobis veniam unde doloribus. Repellendus obcaecati, quidem rerum iusto numquam dolorum placeat exercitationem velit? Dolores optio, error placeat aliquam deleniti minima perferendis. Cum, harum. Perspiciatis veniam cupiditate soluta voluptatum accusantium a iure deserunt error amet excepturi eligendi pariatur possimus ipsam non, atque, recusandae ipsa, beatae quibusdam. Sint ea fuga saepe provident a repellendus. Expedita, velit doloremque repellat quae perspiciatis ad voluptas rem nesciunt obcaecati labore aut ipsa voluptatum provident porro asperiores est nihil quaerat ut. Quod eum ipsam facilis, perferendis voluptates recusandae. Corrupti saepe veniam quos culpa nemo sequi quae possimus esse nisi repellat deserunt maxime quasi, quas quia nulla laboriosam blanditiis itaque, eum necessitatibus officiis tempora excepturi numquam. Blanditiis vitae, asperiores aut doloribus explicabo unde atque ducimus consequuntur minus ipsam dolorem porro tenetur debitis tempore nihil quaerat ad cumque dolor deserunt? Enim rem exercitationem dolorum consectetur quasi cupiditate repellendus laudantium repellat, quibusdam distinctio tempore? Possimus ipsa, nulla repellendus fugiat nobis accusamus ipsum atque sed amet enim dolore eum optio harum? Dolorem aliquam eius eos cum vero? Corporis obcaecati esse explicabo eum ea accusantium? Optio, voluptatibus! Et doloremque eius illo dolorem quam id blanditiis at. Cupiditate recusandae odio labore!</h4>
        </div>
        <div class="col-2"></div>
    </div>
    <div class="row mb-5">
        <div class="col-2"></div>
        <div class="col">
            <h3 th:if="${#locale.toString() == 'en_US'}">For more information about the author: <a class="text-success link-underline  link-underline-opacity-0" th:href="@{/authors/{name}(name=${bookDetails.authorName})}" th:text="${bookDetails.authorName}">Author name</a></h3>
            <h3 th:if="${#locale.toString() == 'bg_BG'}">Информация за автора можете да намерите тук: <a class="text-success link-underline  link-underline-opacity-0" th:href="@{/authors/{name}(name=${bookDetails.authorName})}" th:text="${bookDetails.authorName}">Author name</a></h3>
        </div>
        <div class="col-2"></div>
    </div>
</div>

<nav class="navbar navbar-expand-md bg-body-tertiary">
    <div class="container pt-3 pb-3">
        <div class="row">
            <div class="col">
                <button class="navbar-toggler" data-bs-toggle="collapse"
                        data-bs-target="#nav" aria-controls="nav" aria-label="Expand Navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse justify-content-start ps-5 ms-5" id="nav">
                    <ul class="navbar-nav">
                        <li class="nav-item">
                            <a href="#" class="nav-link" th:text="#{nav_bar_home}">Home</a>
                        </li>
                        <li class="nav-item">
                            <a href="#" class="nav-link" th:text="#{nav_bar_about_us}">About us</a>
                        </li>
                        <li class="nav-item">
                            <a href="#" class="nav-link" th:text="#{nav_bar_shop}">Shop</a>
                        </li>
                        <li class="nav-item">
                            <a href="#" class="nav-link" th:text="#{nav_bar_contacts}">Contacts</a>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="col-1">
                <a href="#" class="navbar-brand me-5">Publishing House</a>
            </div>
        </div>
    </div>
</nav>
</body>
</html>